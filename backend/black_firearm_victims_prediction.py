# -*- coding: utf-8 -*-
"""Black_Firearm_Victims_Prediction.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/11VFAwJNlW7A7SYWJZILFO8EIgoDcglB4
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import RobustScaler
from sklearn.linear_model import LinearRegression

df = pd.read_csv("/content/Figure 5 Firearm Nonfatal by race.csv")

df.tail()

### Population predictor



X =  np.array(df['Year']).reshape(-1, 1)

y = np.array(df['Rate per 100 Black\tAmerican']).reshape(-1, 1)


reg = LinearRegression().fit(X, y)

#reg.predict(np.array([[2018, 386000000.0,4888989.0,1.646000e+09]]))

pred = reg.predict(np.array([2031]).reshape(-1,1))

Black_American = pred[0][0]
print(Black_American)

### Money spent on C and J (Billion) predictor

X =  np.array(df['Year']).reshape(-1, 1)

y = np.array(df['Rate per 1000 White']).reshape(-1, 1)


reg = LinearRegression().fit(X, y)

pred = reg.predict(np.array([2031]).reshape(-1,1))

white = pred[0][0]
print(white)

### Revenue predictor

X =  np.array(df['Year']).reshape(-1, 1)

y = np.array(df['Rate per 100 Indian/Alaska Native']).reshape(-1, 1)


reg = LinearRegression().fit(X, y)

pred = reg.predict(np.array([2031]).reshape(-1,1))

Indian = pred[0][0]
print(Indian)

X =  np.array(df['Year']).reshape(-1, 1)
y = np.array(df['Rate per 1000 Asian/Pacific Islander']).reshape(-1, 1)


reg = LinearRegression().fit(X, y)

pred = reg.predict(np.array([2031]).reshape(-1,1))

Asian = pred[0][0]
print(Asian)

df.loc[len(df.index)] = ['41','2031', white, Black_American, Indian, Asian]

df

df.to_csv(r'figure 5 Firearm by race predictated.csv')

